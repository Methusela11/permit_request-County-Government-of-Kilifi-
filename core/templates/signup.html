{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>County Government of Kilifi - Noise Permit</title>
  <meta name="description" content="Noise Permit Application for Kilifi County">
  <meta name="keywords" content="Kilifi, Noise, Permit, Environment, Government">

  <!-- Favicons -->
  <link href="{% static 'assets/img/logo/CGK11.png' %}" rel="icon">
  <link href="{% static 'assets/img/logo/CGK11.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- Vendor CSS -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">

  <style>
    /* Responsive override for mobile layout */
    @media (max-width: 767.98px) {
      .col-md-6 {
        flex: 0 0 100%;
        max-width: 100%;
      }
    }

    /* Preloader style */
    #preloader {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: #fff url("{% static 'assets/img/loading.gif' %}") no-repeat center center;
      z-index: 9999;
    }
  </style>

    <style>
  /* Custom success alert styling */
  .custom-alert.alert-success {
    background-color: #d9edf7; /* Light blue */
    color: #31708f;
    border-color: #bce8f1;
   }
  </style>

</head>

<body class="index-page">

<!-- Preloader -->
<div id="preloader"></div>

<main class="main p-0 m-0" style="padding: 0; margin: 0;">
  <div class="container-fluid min-vh-100 d-flex align-items-stretch bg-light p-0 m-0">
    <div class="row flex-grow-1 w-100 g-0 m-0">

      <!-- enviro3 img, left panel -->
      <div class="col-md-6 d-flex flex-column justify-content-center text-center bg-success text-white p-0 m-0">
        <img src="{% static 'assets/img/environment/enviro3.png' %}" alt="Kilifi County"
             class="img-fluid w-100 h-100" style="object-fit: cover;">
      </div>

      <!-- Right Panel: Signup Form -->
      <div class="col-md-6 d-flex align-items-center justify-content-center bg-white p-4 m-0">
        <div class="w-100" style="max-width: 280px;">
          <div class="text-center mb-4">
            <img src="{% static 'assets/img/logo/CGK11.png' %}" alt="Kilifi County Logo" class="mb-4" style="height: 55px;">
            <h4 class="fw-bold">Account Registration</h4>
            <p class="text-black">To create an account, kindly enter your details</p>
          </div>

          {% if messages %}
            <div id="messages">
                {% for message in messages %}
                    <div class="alert alert-dismissible fade show custom-alert alert-{{ message.tags }}" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
          {% endif %}


          <form method="POST" action="{% url 'signup' %}">
            {% csrf_token %}
            <div class="mb-3">
              <label for="username" class="form-label w-100 text-start"><b>Username</b></label>
              <input id="username" name="username" type="text" class="form-control bg-light" placeholder="Username" required>
            </div>

            <div class="mb-3">
              <label for="emailaddress" class="form-label w-100 text-start"><b>Email Address</b></label>
              <input id="emailaddress" name="emailaddress" type="email" class="form-control bg-light" placeholder="you@example.com" required>
            </div>

            <div class="mb-3 position-relative">
                <label for="password1" class="form-label"><b>Password</b></label>
                <input id="password1" name="password1" type="password" class="form-control bg-light pe-5" placeholder="Enter your password" required>
                <i class="bi bi-eye-slash toggle-password position-absolute top-50 bottom-50 end-0 translate-middle-y me-2" toggle="#password1" style="cursor: pointer;"></i>
            </div>

            <div class="mb-3 position-relative">
                <label for="password2" class="form-label"><b>Confirm Password</b></label>
                <input id="password2" name="password2" type="password" class="form-control bg-light pe-5" placeholder="Confirm your password" required>
                <i class="bi bi-eye-slash toggle-password position-absolute bottom-50 top-50 end-0 translate-middle-y me-2" toggle="#password2" style="cursor: pointer;"></i>
            </div>
            <button type="submit" class="btn btn-success w-100">Sign Up</button>
          </form>

        <p class="mt-3 text-center text-black">
            Already have an account? <a href="{% url 'login' %}"><strong>Log In</strong></a>
          </p>

          <div class="text-center mt-3 p-0">
              <p style="font-size: 0.80rem;">
                <strong>Â©2025 Permit Request System - County Government of Kilifi</strong>
              </p>
          </div>
        </div>
      </div>
    </div>
  </div>

</main>

<!-- Vendor JS Files -->
<script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
<script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
<script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
<script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"></script>
<script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>

<script>
  document.querySelectorAll('.toggle-password').forEach(function (icon) {
    icon.addEventListener('click', function () {
      const input = document.querySelector(this.getAttribute('toggle'));
      const isPassword = input.getAttribute('type') === 'password';
      input.setAttribute('type', isPassword ? 'text' : 'password');
      this.classList.toggle('bi-eye');
      this.classList.toggle('bi-eye-slash');
    });
  });
</script>



<script>
  // Auto-dismiss alerts after 5 seconds
  window.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
      const alert = document.querySelector('.alert');
      if (alert) {
        alert.classList.remove('show');
        alert.classList.add('hide');
      }
    }, 5000);
  });
</script>


<!-- Preloader Hide Script -->
<script>
  window.addEventListener('load', function () {
    const preloader = document.getElementById('preloader');
    if (preloader) {
      preloader.style.display = 'none';
    }
  });
</script>

</body>
</html>
